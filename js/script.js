"use strict";var searchButton=document.querySelector(".main-nav__search-button"),searchInput=document.querySelector(".main-nav__search-container");searchButton.addEventListener("click",function(e){window.innerWidth<760&&(e.preventDefault(),searchInput.classList.toggle("js-show"),searchInput.firstChild.placeholder="Поиск")});var openNav=document.querySelector(".main-nav__open-nav"),categories=document.querySelector(".main-nav__categories"),categoriesItems=document.querySelectorAll(".nav-categories__link"),categoriesNestedLists=document.querySelectorAll(".nav-categories__nested-list"),categoriesNestedItems=document.querySelectorAll(".nav-categories__nested-item"),categoriesDeepLists=document.querySelectorAll(".nav-categories__deep-list");function closePopup(){popups.forEach(function(e){e.classList.contains("js-show")&&e.classList.remove("js-show")})}openNav.addEventListener("click",function(e){window.innerWidth<760&&(e.preventDefault(),categories.classList.toggle("js-show"))}),categoriesItems.forEach(function(e,t){e.addEventListener("click",function(e){e.preventDefault(),e.target.classList.contains("nav-categories__link")&&window.innerWidth<760&&(categoriesNestedLists[t].classList.toggle("js-show"),categoriesNestedLists.forEach(function(e){e.classList.contains("js-show")&&e!==categoriesNestedLists[t]&&e.classList.remove("js-show")}))})}),categoriesNestedItems.forEach(function(e,t){e.addEventListener("click",function(e){e.target.classList.contains("nav-categories__nested-item")&&window.innerWidth<760&&(categoriesDeepLists[t].classList.toggle("js-show"),categoriesDeepLists.forEach(function(e){e.classList.contains("js-show")&&e!==categoriesDeepLists[t]&&e.classList.remove("js-show")}))})});var popups=document.querySelectorAll(".popups__popup-overlay"),closeButtons=document.querySelectorAll(".closeButton"),overlays=document.querySelectorAll(".popups__popup-overlay"),cityButton=document.querySelector(".main-info__different-city"),cityPopup=document.querySelector(".city__overlay"),callbackButton=document.querySelector(".main-info__order-callback"),callbackPopup=document.querySelector(".callback__overlay"),authButton=document.querySelectorAll(".sign-in"),authPopup=document.querySelector(".auth__overlay"),quickViewButton=document.querySelectorAll(".popular-product__quick-view"),quickViewOverlay=document.querySelector(".quick-view__overlay");closeButtons.forEach(function(e){e.addEventListener("click",closePopup)}),overlays.forEach(function(e){e.addEventListener("click",function(e){e.target.classList.contains("popups__popup-overlay")&&closePopup()})}),document.addEventListener("keydown",function(e){"Escape"===e.code&&closePopup()}),cityButton.addEventListener("click",function(e){e.preventDefault(),cityPopup.classList.add("js-show")}),callbackButton.addEventListener("click",function(e){e.preventDefault(),callbackPopup.classList.add("js-show")}),authButton.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),authPopup.classList.add("js-show")})}),quickViewButton.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),quickViewOverlay.classList.add("js-show")})});var mainImg=document.querySelector(".popup-quick-view__main-img"),miniatures=document.querySelectorAll(".popup-quick-view__img-preview"),srcs=["quick-view-photo.jpg","quick-view-2.png","quick-view-3.png"];miniatures.forEach(function(e,t){e.addEventListener("click",function(){mainImg.src="img/"+srcs[t]})});var banner=document.querySelector(".banner");window.addEventListener("scroll",function(){760<window.innerWidth&&(banner.style.backgroundPositionY=window.scrollY/-4+"px")});var formButtons=document.querySelectorAll(".popup-auth__button"),forms=document.querySelectorAll(".popup-auth__form");formButtons.forEach(function(e,t){e.addEventListener("click",function(){e.classList.contains("js-active")||(formButtons.forEach(function(e,t){e.classList.remove("js-active"),forms[t].classList.remove("js-show")}),e.classList.add("js-active"),forms[t].classList.add("js-show"))})});var bannerList=document.querySelector(".banner__list"),bannerItems=document.querySelectorAll(".banner__item"),bannerContent=document.querySelector(".banner__content"),translate=0,counter=1;bannerContent.addEventListener("click",function(e){e.target.classList.contains("banner__button--right")?(counter++,translate-=bannerList.clientWidth):e.target.classList.contains("banner__button--left")&&(counter--,translate+=bannerList.clientWidth),counter>bannerItems.length?(counter=1,translate=0,bannerItems.forEach(function(e){e.style.transform="translateX("+translate+")"})):counter<1?(counter=3,translate=bannerList.clientWidth*(bannerItems.length-1)*-1,bannerItems.forEach(function(e){e.style.transform="translateX("+translate+"px)"})):bannerItems.forEach(function(e){e.style.transform="translateX("+translate+"px)"})});var mainNav=document.querySelector(".main-nav"),mainInfo=document.querySelector(".main-info"),startPos=mainNav.offsetTop;window.innerWidth<760&&window.addEventListener("scroll",function(){console.log(startPos+120),window.scrollY>mainNav.offsetTop&&!mainNav.classList.contains("sticky")?(mainInfo.style.marginBottom=mainNav.clientHeight+20+"px",mainNav.classList.add("sticky")):window.scrollY<startPos&&mainNav.classList.contains("sticky")&&(mainInfo.style.marginBottom="0px",mainNav.classList.remove("sticky"))});